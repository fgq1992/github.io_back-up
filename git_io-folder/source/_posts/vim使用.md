---
title: vim使用
date: 2017-09-21 21:37:39
tags:
toc: true
reward: true
comments: ture
categories: 杂项
---
### 1.如何进入编辑模式
i:光标左侧插入正文
I：光标所在行行首插入正文
a:光标右侧输入
A：所表所在行行尾插入正文
o:在光标所在行下行增加新行
O:在光标所在行上行插入新行
### 2.粘贴
<!-- more -->
p:粘贴至游标后
P（大写）:粘贴至游标前
### 3.选择
v:按字符选择
V：按行选择
ctrl v:按列选择
### 4.复制
y:复制选定部分,配合v使用
yy：复制当前行
nyy：n表示大于1的数字，复制n行
yw：从光标处复制至一个单子/单词的末尾，包括空格
ye：从光标处复制至一个单子/单词的末尾，不包括空格
y$：从当前光标复制到行末
y0：从当前光标位置（不包括光标位置）复制之行首
y3l：从光标位置（包括光标位置）向右复制3个字符
y5G：将当前行（包括当前行）至第5行（不包括它）复制
y3B：从当前光标位置（不包括光标位置）反向复制3个单词
#### 跨文件复制粘贴
"+yy:复制当前行到剪切板
"+p:将剪切板内容粘贴到光标后面
"ayy:复制当前行到寄存器 a
"ap:将寄存器 a 中的内容粘贴到光标后面
Vim 有12个粘贴板依次编号为：0、1、2、...、9、a、"、+，其中 + 号为系统粘贴板，” 为临时粘贴板。系统剪切板中的内容可在其他程序中使用。上面的复制指令都可以配合剪切板进行操作。
"nyw:复制当前单词到 n 号剪切板（双引号开始） 
"np 粘贴 n 号剪切板内容到当前位置后 
"+Y 复制当前行到系统剪切板
"+ny 复制当前行加下面 n 行到系统剪切板
"+p 粘贴系统剪切板内容到当前位置后
#### reference:
https://www.zhihu.com/question/19863631/answer/89354508
### 5.剪切
dd：剪切当前行
ndd：n表示大于1的数字，剪切n行
dw：从光标处剪切至一个单子/单词的末尾，包括空格
de：从光标处剪切至一个单子/单词的末尾，不包括空格
d$：从当前光标剪切到行末
d0：从当前光标位置（不包括光标位置）剪切之行首
d3l：从光标位置（包括光标位置）向右剪切3个字符
d5G：将当前行（包括当前行）至第5行（不包括它）剪切
d3B：从当前光标位置（不包括光标位置）反向剪切3个单词
dH：剪切从当前行至所显示屏幕顶行的全部行
dM：剪切从当前行至命令M所指定行的全部行
dL：剪切从当前行至所显示屏幕底的全部行
### 6.删除
x:删除字符
dd:删除行
### 7.撤销与恢复
u:撤销最近修改
U:撤销对当前行所做的修改
ctrl r:恢复最近的操作
r:替换光标位置上的一个字符,先按下r，然后按下替换的字符
R:替换从光标位置开始的字符，同时vi到输入模式
.:重复上一次的操作
### 8.查找
/+查找的内容（向下）
？+查找的内容（向上）
n:查找下一个
N：查找上一个
### 9.替换
s/a/b:将当前行第一个a替换为b
s/a/b/g:将当前行所有a替换为b
n,$s/a/b:替换第n行到最后中每一行的第一个a为b
n,$s/a/b/g:替换第n行到最后一行所有a为b
%s/a/b：当前行到最后一行
### 10.光标的移动
$:移动行尾部
w:向右移动一个字
b:向左移动一个字
e:移动到字尾
0(零):移动到行首
return:移动到下一行行首
space:向右移动一位
backspace:向左移动一位
### 11.开多个文本
输入：":sp"（不含引号）横向切分一个窗口，":vsp"纵向切分一个窗口
输入：":e b.cpp"，在其中一个窗口里打开另一个文件
ctrl+w，再按一下w，可以在两个窗口之间切换
### 12.修改tab为四个空格
在vimrc中增加下面3行
vim /etc/vim/vimrc
set ts=4
set expandtab
set autoindent
### 13.vim退出假死
ctrl+q
### 14.退出操作
:w file 将修改另外保存到file中，不退出vi
:w!   强制保存，不推出vi
:wq  保存文件并退出vi
:wq! 强制保存文件，并退出vi
:q  不保存文件，退出vi
:q! 不保存文件，强制退出vi
:e! 放弃所有修改，从上次保存文件开始再编辑
### 15.显示行号
:set number
:set nonumber
或者在/etc/vim/vimrc里面增加set number

